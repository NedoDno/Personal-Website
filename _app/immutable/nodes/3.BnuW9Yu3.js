import{s as lt,x as ct,n as at,o as vt}from"../chunks/scheduler.Cu_nLO_j.js";import{S as dt,i as ht,e as z,t as rt,s as et,c as V,a as Q,b as it,d as N,f as nt,o as Y,g as ot,h as H,j as st,u as yt,z as Mt,v as _t,w as wt,n as Dt,l as St,x as bt}from"../chunks/index.ymafgsxD.js";const Ot=!1,Tt=Ot,kt=Tt,Et=!0,Ut=Object.freeze(Object.defineProperty({__proto__:null,csr:kt,prerender:Et},Symbol.toStringTag,{value:"Module"}));var mt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $t(v){return v&&v.__esModule&&Object.prototype.hasOwnProperty.call(v,"default")?v.default:v}var pt={exports:{}};(function(v,m){(function($,g){v.exports=g()})(mt,function(){var $=1e3,g=6e4,y=36e5,l="millisecond",c="second",M="minute",D="hour",f="day",_="week",u="month",j="quarter",o="year",d="date",C="Invalid Date",I=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,L=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,q={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(i){var n=["th","st","nd","rd"],t=i%100;return"["+i+(n[(t-20)%10]||n[t]||n[0])+"]"}},B=function(i,n,t){var r=String(i);return!r||r.length>=n?i:""+Array(n+1-r.length).join(t)+i},U={s:B,z:function(i){var n=-i.utcOffset(),t=Math.abs(n),r=Math.floor(t/60),e=t%60;return(n<=0?"+":"-")+B(r,2,"0")+":"+B(e,2,"0")},m:function i(n,t){if(n.date()<t.date())return-i(t,n);var r=12*(t.year()-n.year())+(t.month()-n.month()),e=n.clone().add(r,u),s=t-e<0,a=n.clone().add(r+(s?-1:1),u);return+(-(r+(t-e)/(s?e-a:a-e))||0)},a:function(i){return i<0?Math.ceil(i)||0:Math.floor(i)},p:function(i){return{M:u,y:o,w:_,d:f,D:d,h:D,m:M,s:c,ms:l,Q:j}[i]||String(i||"").toLowerCase().replace(/s$/,"")},u:function(i){return i===void 0}},T="en",k={};k[T]=q;var J="$isDayjsObject",W=function(i){return i instanceof X||!(!i||!i[J])},R=function i(n,t,r){var e;if(!n)return T;if(typeof n=="string"){var s=n.toLowerCase();k[s]&&(e=s),t&&(k[s]=t,e=s);var a=n.split("-");if(!e&&a.length>1)return i(a[0])}else{var p=n.name;k[p]=n,e=p}return!r&&e&&(T=e),e||!r&&T},S=function(i,n){if(W(i))return i.clone();var t=typeof n=="object"?n:{};return t.date=i,t.args=arguments,new X(t)},h=U;h.l=R,h.i=W,h.w=function(i,n){return S(i,{locale:n.$L,utc:n.$u,x:n.$x,$offset:n.$offset})};var X=function(){function i(t){this.$L=R(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[J]=!0}var n=i.prototype;return n.parse=function(t){this.$d=function(r){var e=r.date,s=r.utc;if(e===null)return new Date(NaN);if(h.u(e))return new Date;if(e instanceof Date)return new Date(e);if(typeof e=="string"&&!/Z$/i.test(e)){var a=e.match(I);if(a){var p=a[2]-1||0,w=(a[7]||"0").substring(0,3);return s?new Date(Date.UTC(a[1],p,a[3]||1,a[4]||0,a[5]||0,a[6]||0,w)):new Date(a[1],p,a[3]||1,a[4]||0,a[5]||0,a[6]||0,w)}}return new Date(e)}(t),this.init()},n.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},n.$utils=function(){return h},n.isValid=function(){return this.$d.toString()!==C},n.isSame=function(t,r){var e=S(t);return this.startOf(r)<=e&&e<=this.endOf(r)},n.isAfter=function(t,r){return S(t)<this.startOf(r)},n.isBefore=function(t,r){return this.endOf(r)<S(t)},n.$g=function(t,r,e){return h.u(t)?this[r]:this.set(e,t)},n.unix=function(){return Math.floor(this.valueOf()/1e3)},n.valueOf=function(){return this.$d.getTime()},n.startOf=function(t,r){var e=this,s=!!h.u(r)||r,a=h.p(t),p=function(P,E){var A=h.w(e.$u?Date.UTC(e.$y,E,P):new Date(e.$y,E,P),e);return s?A:A.endOf(f)},w=function(P,E){return h.w(e.toDate()[P].apply(e.toDate("s"),(s?[0,0,0,0]:[23,59,59,999]).slice(E)),e)},b=this.$W,O=this.$M,x=this.$D,Z="set"+(this.$u?"UTC":"");switch(a){case o:return s?p(1,0):p(31,11);case u:return s?p(1,O):p(0,O+1);case _:var F=this.$locale().weekStart||0,G=(b<F?b+7:b)-F;return p(s?x-G:x+(6-G),O);case f:case d:return w(Z+"Hours",0);case D:return w(Z+"Minutes",1);case M:return w(Z+"Seconds",2);case c:return w(Z+"Milliseconds",3);default:return this.clone()}},n.endOf=function(t){return this.startOf(t,!1)},n.$set=function(t,r){var e,s=h.p(t),a="set"+(this.$u?"UTC":""),p=(e={},e[f]=a+"Date",e[d]=a+"Date",e[u]=a+"Month",e[o]=a+"FullYear",e[D]=a+"Hours",e[M]=a+"Minutes",e[c]=a+"Seconds",e[l]=a+"Milliseconds",e)[s],w=s===f?this.$D+(r-this.$W):r;if(s===u||s===o){var b=this.clone().set(d,1);b.$d[p](w),b.init(),this.$d=b.set(d,Math.min(this.$D,b.daysInMonth())).$d}else p&&this.$d[p](w);return this.init(),this},n.set=function(t,r){return this.clone().$set(t,r)},n.get=function(t){return this[h.p(t)]()},n.add=function(t,r){var e,s=this;t=Number(t);var a=h.p(r),p=function(O){var x=S(s);return h.w(x.date(x.date()+Math.round(O*t)),s)};if(a===u)return this.set(u,this.$M+t);if(a===o)return this.set(o,this.$y+t);if(a===f)return p(1);if(a===_)return p(7);var w=(e={},e[M]=g,e[D]=y,e[c]=$,e)[a]||1,b=this.$d.getTime()+t*w;return h.w(b,this)},n.subtract=function(t,r){return this.add(-1*t,r)},n.format=function(t){var r=this,e=this.$locale();if(!this.isValid())return e.invalidDate||C;var s=t||"YYYY-MM-DDTHH:mm:ssZ",a=h.z(this),p=this.$H,w=this.$m,b=this.$M,O=e.weekdays,x=e.months,Z=e.meridiem,F=function(E,A,K,tt){return E&&(E[A]||E(r,s))||K[A].slice(0,tt)},G=function(E){return h.s(p%12||12,E,"0")},P=Z||function(E,A,K){var tt=E<12?"AM":"PM";return K?tt.toLowerCase():tt};return s.replace(L,function(E,A){return A||function(K){switch(K){case"YY":return String(r.$y).slice(-2);case"YYYY":return h.s(r.$y,4,"0");case"M":return b+1;case"MM":return h.s(b+1,2,"0");case"MMM":return F(e.monthsShort,b,x,3);case"MMMM":return F(x,b);case"D":return r.$D;case"DD":return h.s(r.$D,2,"0");case"d":return String(r.$W);case"dd":return F(e.weekdaysMin,r.$W,O,2);case"ddd":return F(e.weekdaysShort,r.$W,O,3);case"dddd":return O[r.$W];case"H":return String(p);case"HH":return h.s(p,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return P(p,w,!0);case"A":return P(p,w,!1);case"m":return String(w);case"mm":return h.s(w,2,"0");case"s":return String(r.$s);case"ss":return h.s(r.$s,2,"0");case"SSS":return h.s(r.$ms,3,"0");case"Z":return a}return null}(E)||a.replace(":","")})},n.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},n.diff=function(t,r,e){var s,a=this,p=h.p(r),w=S(t),b=(w.utcOffset()-this.utcOffset())*g,O=this-w,x=function(){return h.m(a,w)};switch(p){case o:s=x()/12;break;case u:s=x();break;case j:s=x()/3;break;case _:s=(O-b)/6048e5;break;case f:s=(O-b)/864e5;break;case D:s=O/y;break;case M:s=O/g;break;case c:s=O/$;break;default:s=O}return e?s:h.a(s)},n.daysInMonth=function(){return this.endOf(u).$D},n.$locale=function(){return k[this.$L]},n.locale=function(t,r){if(!t)return this.$L;var e=this.clone(),s=R(t,r,!0);return s&&(e.$L=s),e},n.clone=function(){return h.w(this.$d,this)},n.toDate=function(){return new Date(this.valueOf())},n.toJSON=function(){return this.isValid()?this.toISOString():null},n.toISOString=function(){return this.$d.toISOString()},n.toString=function(){return this.$d.toUTCString()},i}(),ut=X.prototype;return S.prototype=ut,[["$ms",l],["$s",c],["$m",M],["$H",D],["$W",f],["$M",u],["$y",o],["$D",d]].forEach(function(i){ut[i[1]]=function(n){return this.$g(n,i[0],i[1])}}),S.extend=function(i,n){return i.$i||(i(n,X,S),i.$i=!0),S},S.locale=R,S.isDayjs=W,S.unix=function(i){return S(1e3*i)},S.en=k[T],S.Ls=k,S.p={},S})})(pt);var jt=pt.exports;const ft=$t(jt);var gt={exports:{}};(function(v,m){(function($,g){v.exports=g()})(mt,function(){return function($,g,y){$=$||{};var l=g.prototype,c={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function M(f,_,u,j){return l.fromToBase(f,_,u,j)}y.en.relativeTime=c,l.fromToBase=function(f,_,u,j,o){for(var d,C,I,L=u.$locale().relativeTime||c,q=$.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],B=q.length,U=0;U<B;U+=1){var T=q[U];T.d&&(d=j?y(f).diff(u,T.d,!0):u.diff(f,T.d,!0));var k=($.rounding||Math.round)(Math.abs(d));if(I=d>0,k<=T.r||!T.r){k<=1&&U>0&&(T=q[U-1]);var J=L[T.l];o&&(k=o(""+k)),C=typeof J=="string"?J.replace("%d",k):J(k,_,T.l,I);break}}if(_)return C;var W=I?L.future:L.past;return typeof W=="function"?W(C):W.replace("%s",C)},l.to=function(f,_){return M(f,_,this,!0)},l.from=function(f,_){return M(f,_,this)};var D=function(f){return f.$u?y.utc():y()};l.toNow=function(f){return this.to(D(this),f)},l.fromNow=function(f){return this.from(D(this),f)}}})})(gt);var Ct=gt.exports;const xt=$t(Ct);function Ht(v){let m,$,g,y,l,c,M,D,f,_,u,j;return{c(){m=z("div"),$=z("h2"),g=rt(v[2]),y=et(),l=z("img"),M=et(),D=z("p"),f=rt(v[3]),_=et(),u=z("p"),j=rt(v[4]),this.h()},l(o){m=V(o,"DIV",{class:!0});var d=Q(m);$=V(d,"H2",{id:!0});var C=Q($);g=it(C,v[2]),C.forEach(N),y=nt(d),l=V(d,"IMG",{id:!0,src:!0,alt:!0}),M=nt(d),D=V(d,"P",{id:!0});var I=Q(D);f=it(I,v[3]),I.forEach(N),_=nt(d),u=V(d,"P",{id:!0});var L=Q(u);j=it(L,v[4]),L.forEach(N),d.forEach(N),this.h()},h(){Y($,"id","imgTitle"),Y(l,"id","imageElement"),ct(l.src,c=v[0])||Y(l,"src",c),Y(l,"alt",v[1]),Y(D,"id","imgDate"),Y(u,"id","imgPostedFromNow"),Y(m,"class","comic")},m(o,d){ot(o,m,d),H(m,$),H($,g),H(m,y),H(m,l),H(m,M),H(m,D),H(D,f),H(m,_),H(m,u),H(u,j)},p(o,[d]){d&4&&st(g,o[2]),d&1&&!ct(l.src,c=o[0])&&Y(l,"src",c),d&2&&Y(l,"alt",o[1]),d&8&&st(f,o[3]),d&16&&st(j,o[4])},i:at,o:at,d(o){o&&N(m)}}}function Yt(v,m,$){ft.extend(xt);let g="",y="",l="",c="",M="";return vt(()=>{const f="https://fwd.innopolis.university/api/hw2?email=m.ginzburg@innopolis.university";let _;fetch(f).then(u=>{if(!u.ok)throw new Error("Network response was not ok");return u.json()}).then(u=>{_=u,console.log("ID retrieved:",_);const j=`https://fwd.innopolis.university/api/comic?id=${_}`;fetch(j).then(o=>{if(!o.ok)throw new Error("Failed to fetch image data");return o.json()}).then(o=>{$(0,g=o.img),$(1,y=o.transcript),$(2,l=o.safe_title);const d=new Date(Date.UTC(o.year,o.month-1,o.day)),C={weekday:"long",year:"numeric",month:"long",day:"numeric"};$(3,c=d.toLocaleDateString("en-UK",C)),$(4,M=ft(c).fromNow())}).catch(o=>{console.error("Error fetching image:",o)})}).catch(u=>{console.error("Error fetching ID data:",u)})}),[g,y,l,c,M]}class Nt extends dt{constructor(m){super(),ht(this,m,Yt,Ht,lt,{})}}function It(v){let m,$,g,y,l;return y=new Nt({}),{c(){m=z("meta"),$=et(),g=z("main"),yt(y.$$.fragment),this.h()},l(c){const M=Mt("svelte-1te4rcl",document.head);m=V(M,"META",{name:!0,content:!0}),M.forEach(N),$=nt(c),g=V(c,"MAIN",{});var D=Q(g);_t(y.$$.fragment,D),D.forEach(N),this.h()},h(){document.title="Comic ",Y(m,"name","description"),Y(m,"content","Comic from the lab 2 ")},m(c,M){H(document.head,m),ot(c,$,M),ot(c,g,M),wt(y,g,null),l=!0},p:at,i(c){l||(Dt(y.$$.fragment,c),l=!0)},o(c){St(y.$$.fragment,c),l=!1},d(c){c&&(N($),N(g)),N(m),bt(y)}}}class Wt extends dt{constructor(m){super(),ht(this,m,null,It,lt,{})}}export{Wt as component,Ut as universal};
